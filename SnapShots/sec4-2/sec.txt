第4章　機能モジュールの追加　	中編		A:\PJ\spa\SnapShots\sec4-2\sec.txt

此処でのメインはやはりスライダーの見た目の改善だ。
npx gulp watch	でPugとSCSSを始める。ここでもまずはお手本通りの実装を試みる、新しいレイアウトを試すのはその後だ。
ただし、アブソリュートは記述が冗長なので、SCSSのマクロを使う。本書のアブソリュート値に忠実にレイアウトすると、
msgとboxがsiledrに収まらない。それに、本書の完成図ではmsgはボーダーラインがあるのにCSSには存在しない。

なので、おや要素のsizerと兄弟子要素のmsgsとboxのアブソリュート値を色々いじって、なおかつmsgsにはボーダーとサイズを指定して、
ようやく、お手本の図と静的にも一致したスライダーが完成だ。

つまり、本書の具体的な値を信用しなければ、昔ながらのリキッドレイアウトでもちゃんと静的なレイアウトが可能だと分かった。

ならば、サーバー編が始まるまでは、リキッドレイアウトを極めて、6章に達したら、サーバー編に行く前に
フレックスやグリッドレイアウトを試すように戦略をあらためた。

こうして、スライダーの見た目をリリースバージョンに近ずけた。
この章の後半では、ブラウザのリサイズに対する反応や、有ると便利な機能をいくつか作り込む。

実は現在第5章に進んで、モデルモジュールを構築している。でも、スライダーのレイアウトをアブソリュートで行い
実装の途中まで、飛び抜けていたボックスがなぜSliderモジュールの完成でレイアウトが治って、
またウインドウのサイズによってメッセージボックスが2段階に変化するのか謎にままに残して来た事に気付いた。

色々検証した結果、この謎はサイザークラスに高さを設定していない事に有った。
サイザーの二つの子要素の内、ボックスには高さ２emを指定して、メッセージにはサイズの指定はしていない。
本来、Divはボックス要素なのでメッセージ、ボックスの順番で縦に並ぶはずだけど上の要素と親の要素のサイズ指定が無いので
唯一のサイズ指定が有るボックスが飛び抜けてしまう。実は親要素のサイズが決まれば、サイズの決まらない要素はメッセージだけになり、
サイズは良い感じで、ブラウザが決めてくれるので、このような飛び抜けは起こらない。この親のサイズをあえて決めない戦略は、
章の後半で解説されるリサイズへの対応の為だった。この対応はアプリのリサイズ時にウインドウのサイズを調べてそのサイズによって、
親要素のサイズをJSで決めていたのだ！！　つまり、表示の崩れを気にしながら意味もわからす写経して、CSSを終えてJSの写経を終えると
なぜか、表示の崩れが収まる寸法なので、すこし分かりずらい。

さて原因が分かったところでもう一度SCSSを構築したい。ストレスを感じない手順としては、
まずslider.jsからsetPxSizeの呼び出しをコメントアウト。次に現在のSCSSの.sliderの高さを20em   .sizerに高さを18emにして
静的にレンダリング、できたら、.sliderの高さを10em  .sizerの高さを8em にしてみて.msgsの高さが調整される事を確認。
最後に.sliderを初期値2emに、.sizerの高さを削除、コメントアウトしたdetPxSizeの呼び出しをもどす。
そして、ブラウザを縮小して結果を確認。これで、表示に崩れを味わう事なくレイアウトが完成だ。

すこし気になるのは、この様な動的なレイアウト変更がフロウやグリッドで出来るのか？
ま～その時になって考えるとして、もし出来ないのであれば、アブソリュート値の戦略に意味が有るという事だ


SPAファイナル			A:\PJ\spa\spa.txt

SPAファイナル			A:\PJ\spa\spa.txt
第1章　最初のシングルページアプリケーション　		A:\PJ\spa\SnapShots\sec1\sec.txt
第2章　JavaScriptのおさらい					A:\PJ\spa\SnapShots\sec2\sec.txt
第3章　シェルの開発 前半					A:\PJ\spa\SnapShots\sec3-1\sec.txt
第3章　シェルの開発 後半					A:\PJ\spa\SnapShots\sec3-2\sec.txt
第4章　機能モジュールの追加		前半		A:\PJ\spa\SnapShots\sec4-1\sec.txt
第4章　機能モジュールの追加　	中編		A:\PJ\spa\SnapShots\sec4-2\sec.txt
第4章　機能モジュールの追加　	後編		A:\PJ\spa\SnapShots\sec4-3\sec.txt
第5章　モデルの構築							A:\PJ\spa\SnapShots\sec5\sec.txt
第6章　モデルとデータモジュールの完成			A:\PJ\spa\SnapShots\sec6\sec.txt


GitHub アドレス			https://github.com/SakunM/spa
SPAファイナルReadMe			A:\PJ\spa\readme.txt
前々回の最終バージョン	A:\PJ\JS\all\spas\spa10
前回の最終バージョン	A:\PJ\mamo2\langs\SPA
今回のバージョン		A:\PJ\spa
再々のSPA		A:\プログラミング\書籍サンプル\JS\JavaScript\SPA\再々のSPA.txt
